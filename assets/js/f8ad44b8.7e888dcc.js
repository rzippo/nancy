"use strict";(self.webpackChunknancy_docs=self.webpackChunknancy_docs||[]).push([[180],{8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var t=r(6540);const i={},s=t.createContext(i);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},9087:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"tutorials/other-languages/http-api","title":"Nancy HTTP server","description":"The Nancy HTTP server provides the capabilities of the Nancy library via an HTTP API, enabling remote computation as well as the implementation of wrapper libraries in any language that supports sending HTTP requests.","source":"@site/docs/tutorials/other-languages/http-api.md","sourceDirName":"tutorials/other-languages","slug":"/tutorials/other-languages/http-api","permalink":"/nancy/docs/tutorials/other-languages/http-api","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"hide_title":true,"title":"Nancy HTTP server","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Simplifying expressions","permalink":"/nancy/docs/tutorials/nancy-expressions/expressions-manipulation"},"next":{"title":"Wrapper libraries","permalink":"/nancy/docs/tutorials/other-languages/wrappers"}}');var i=r(4848),s=r(8453);const a={hide_title:!0,title:"Nancy HTTP server",sidebar_position:1},o="Nancy HTTP server",c={},l=[{value:"How it works",id:"how-it-works",level:2},{value:"Declare the curve",id:"declare-the-curve",level:3},{value:"Compute the self-convolution",id:"compute-the-self-convolution",level:3},{value:"Retrieve the result",id:"retrieve-the-result",level:3}];function p(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"nancy-http-server",children:"Nancy HTTP server"})}),"\n",(0,i.jsx)(n.p,{children:"The Nancy HTTP server provides the capabilities of the Nancy library via an HTTP API, enabling remote computation as well as the implementation of wrapper libraries in any language that supports sending HTTP requests."}),"\n",(0,i.jsxs)(n.p,{children:["It is available on ",(0,i.jsx)(n.a,{href:"https://github.com/rzippo/nancy-http",children:"GitHub"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,i.jsxs)(n.p,{children:["The HTTP API is based on a ",(0,i.jsx)(n.em,{children:"declare then use"})," scheme.\r\nWhen the user ",(0,i.jsx)(n.em,{children:"declares"})," a curve, the server replies with its ID.\r\nThen, curve operations take IDs as operands and return the ID of the result."]}),"\n",(0,i.jsx)(n.p,{children:"This scheme reduces the communication overhead, since all the intermediate computations can be performed without transmitting the curve data back and forth."}),"\n",(0,i.jsx)(n.p,{children:"In the example below, we show a series of requests that compute and retrieve the self-convolution of a curve."}),"\n",(0,i.jsxs)(n.p,{children:["For the full API, check the examples in the ",(0,i.jsx)(n.a,{href:"https://github.com/rzippo/nancy-http",children:"repository"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"declare-the-curve",children:"Declare the curve"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST http://localhost:1006/curve HTTP/1.1\r\ncontent-type: application/json\r\n\r\n{\r\n    "type": "curve",\r\n    "baseSequence": \r\n    {\r\n        "elements": [\r\n            {\r\n                "type": "point",\r\n                "time": 0,\r\n                "value": 0\r\n            },\r\n            {\r\n                "type": "segment",\r\n                "startTime": 0,\r\n                "endTime": {\r\n                    "num": 1,\r\n                    "den": 3\r\n                },\r\n                "rightLimitAtStartTime": 0,\r\n                "slope": 0\r\n            },\r\n            {\r\n                "type": "point",\r\n                "time": {\r\n                    "num": 1,\r\n                    "den": 3\r\n                },\r\n                "value": 0\r\n            },\r\n            {\r\n                "type": "segment",\r\n                "startTime": {\r\n                    "num": 1,\r\n                    "den": 3\r\n                },\r\n                "endTime": 3,\r\n                "rightLimitAtStartTime": 0,\r\n                "slope": 0\r\n            },\r\n            {\r\n                "type": "point",\r\n                "time": 3,\r\n                "value": 0\r\n            },\r\n            {\r\n                "type": "segment",\r\n                "startTime": 3,\r\n                "endTime": {\r\n                    "num": 10,\r\n                    "den": 3\r\n                },\r\n                "rightLimitAtStartTime": 0,\r\n                "slope": 12\r\n            }\r\n        ]\r\n    },\r\n    "pseudoPeriodStart": {\r\n        "num": 1,\r\n        "den": 3\r\n    },\r\n    "pseudoPeriodLength": 3,\r\n    "pseudoPeriodHeight": 4\r\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'HTTP/1.1 200 OK\r\nConnection: close\r\nContent-Type: application/json; charset=utf-8\r\nDate: Tue, 05 Dec 2023 10:57:30 GMT\r\nServer: Kestrel\r\nTransfer-Encoding: chunked\r\n\r\n{\r\n  "id": "883D5A67"\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"compute-the-self-convolution",children:"Compute the self-convolution"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST http://localhost:1006/curve/convolution HTTP/1.1\r\ncontent-type: application/json\r\n\r\n[\r\n    "883D5A67",\r\n    "883D5A67"\r\n]\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'HTTP/1.1 200 OK\r\nConnection: close\r\nContent-Type: application/json; charset=utf-8\r\nDate: Tue, 05 Dec 2023 10:59:04 GMT\r\nServer: Kestrel\r\nTransfer-Encoding: chunked\r\n\r\n"7419A1DF"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"retrieve-the-result",children:"Retrieve the result"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET http://localhost:1006/curve/7419A1DF HTTP/1.1\r\ncontent-type: application/json\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'HTTP/1.1 200 OK\r\nConnection: close\r\nContent-Type: application/json; charset=utf-8\r\nDate: Tue, 05 Dec 2023 10:59:43 GMT\r\nServer: Kestrel\r\nTransfer-Encoding: chunked\r\n\r\n{\r\n  "curve": {\r\n    "type": "curve",\r\n    "baseSequence": {\r\n      "elements": [\r\n        {\r\n          "type": "point",\r\n          "time": 0,\r\n          "value": 0\r\n        },\r\n        {\r\n          "type": "segment",\r\n          "startTime": 0,\r\n          "endTime": {\r\n            "num": 10,\r\n            "den": 3\r\n          },\r\n          "rightLimitAtStartTime": 0,\r\n          "slope": 0\r\n        },\r\n        {\r\n          "type": "point",\r\n          "time": {\r\n            "num": 10,\r\n            "den": 3\r\n          },\r\n          "value": 0\r\n        },\r\n        {\r\n          "type": "segment",\r\n          "startTime": {\r\n            "num": 10,\r\n            "den": 3\r\n          },\r\n          "endTime": 6,\r\n          "rightLimitAtStartTime": 0,\r\n          "slope": 0\r\n        },\r\n        {\r\n          "type": "point",\r\n          "time": 6,\r\n          "value": 0\r\n        },\r\n        {\r\n          "type": "segment",\r\n          "startTime": 6,\r\n          "endTime": {\r\n            "num": 19,\r\n            "den": 3\r\n          },\r\n          "rightLimitAtStartTime": 0,\r\n          "slope": 12\r\n        }\r\n      ]\r\n    },\r\n    "pseudoPeriodStart": {\r\n      "num": 10,\r\n      "den": 3\r\n    },\r\n    "pseudoPeriodLength": 3,\r\n    "pseudoPeriodHeight": 4\r\n  }\r\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);
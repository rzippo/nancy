"use strict";(self.webpackChunknancy_docs=self.webpackChunknancy_docs||[]).push([[5198],{3905:function(e,t,r){r.d(t,{Zo:function(){return s},kt:function(){return f}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=n.createContext({}),c=function(e){var t=n.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},s=function(e){var t=c(e.components);return n.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},v=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),v=c(r),f=a,m=v["".concat(u,".").concat(f)]||v[f]||p[f]||i;return r?n.createElement(m,o(o({ref:t},s),{},{components:r})):n.createElement(m,o({ref:t},s))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=v;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}v.displayName="MDXCreateElement"},5747:function(e,t,r){r.r(t),r.d(t,{assets:function(){return p},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return u},metadata:function(){return s},toc:function(){return v}});var n=r(7462),a=r(3366),i=(r(7294),r(3905)),o=r(4996),l=["components"],u={hide_title:!0,sidebar_position:4,title:"Examples"},c="Examples",s={unversionedId:"tutorials/first-tutorial/examples",id:"tutorials/first-tutorial/examples",title:"Examples",description:"",source:"@site/docs/tutorials/first-tutorial/examples.mdx",sourceDirName:"tutorials/first-tutorial",slug:"/tutorials/first-tutorial/examples",permalink:"/nancy/docs/tutorials/first-tutorial/examples",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{hide_title:!0,sidebar_position:4,title:"Examples"},sidebar:"tutorialSidebar",previous:{title:"Operators",permalink:"/nancy/docs/tutorials/first-tutorial/operators"},next:{title:"Tuning Performance",permalink:"/nancy/docs/tutorials/first-tutorial/tuning-performance"}},p={},v=[],f={toc:v};function m(e){var t=e.components,r=(0,a.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},f,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"examples"},"Examples"),(0,i.kt)("p",null,"The library can be used to compute delay and buffer bounds for any kind of curves."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"var sc = new RateLatencyServiceCurve(3, 3);\nvar ac = new SigmaRhoArrivalCurve(4, 1);\nvar delay = Curve.HorizontalDeviation(ac, sc);\n// Output: 13/3\n")),(0,i.kt)("figure",null,(0,i.kt)("img",{src:(0,o.Z)("/img/tutorials/rl-tb.png"),alt:"Plot of the arrival and service curves. The max horizontal deviation can be seen at y = 4."}),(0,i.kt)("figcaption",null,"Figure 3: Plot of the arrival and service curves. The max horizontal deviation can be seen at ",(0,i.kt)("code",null,"y = 4"),".")),(0,i.kt)("p",null,"The calculation works also for general curves, for example (from ",(0,i.kt)("a",{href:"../references#DNC18"},"[DNC18, p. 121]"),"):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"var sc = Curve.Minimum(\n    new RateLatencyServiceCurve(0, 3),\n    new RateLatencyServiceCurve(4, 3) + 3\n);\nvar ac = new SigmaRhoArrivalCurve(1, 1);\nvar delay = Curve.HorizontalDeviation(ac, sc);\n// Output: 2/1\n")),(0,i.kt)("figure",null,(0,i.kt)("img",{src:(0,o.Z)("/img/tutorials/dnc p 121.png"),alt:"Plot of the arrival and service curves. The max horizontal deviation can be seen at y = 3."}),(0,i.kt)("figcaption",null,"Figure 4: Plot of the arrival and service curves. The max horizontal deviation can be seen at ",(0,i.kt)("code",null,"y = 3"),".")),(0,i.kt)("p",null,"The operators can be used to naturally construct any min-plus expressions.\nFor example, computing a residual service curve in a FIFO server ",(0,i.kt)("a",{href:"../references#DNC18"},"[DNC18, p. 166]"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"var beta = new RateLatencyServiceCurve(2, 3);\nvar alpha = new SigmaRhoArrivalCurve(3, 2);\nvar theta = 4;\nvar delta_theta = new DelayServiceCurve(theta);\n\nvar alpha_theta = Curve.Convolution(alpha, delta_theta);\nvar diff = Curve.Subtraction(beta, alpha_theta, nonNegative: true);\nvar residual = Curve.Minimum(diff, delta_theta);\n")),(0,i.kt)("figure",null,(0,i.kt)("img",{src:(0,o.Z)("/img/tutorials/fifo-residual.png"),alt:"Plot of the FIFO residual service curve, computed with the code above."}),(0,i.kt)("figcaption",null,"Figure 5: Plot of the FIFO residual service curve, computed with the code above.")),(0,i.kt)("p",null,"As another example, computing the strict service curve for Interleaved Weighted Round-Robin (IWRR) described in ",(0,i.kt)("a",{href:"../references#TLBB21"},"[TLBB21]")," (using Th. 1 with the parameters in Fig. 3):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-csharp"},"var weights = new []{4, 6, 7, 10};\nvar l_min = new []{4096, 3072, 4608, 3072};\nvar l_max = new []{8704, 5632, 6656, 8192};\nvar beta = new RateLatencyServiceCurve(\n    delay: 0, \n    rate: 10000 // 10 Mb/s, but using ms as time unit\n);\nvar unit_rate = new RateLatencyServiceCurve(0, 1);\n\n// parameters computation omitted for brevity\nint Phi_i_j(int i, int j, int x) { ... }\nint Psi_i(int i, int x) { ... }\nint L_tot(int i) { ... }\n\nint i = 0; // the flow of interest\nvar stairs = new List<Curve>();\nfor(int k = 0; k < weights[i]; k++)\n{\n    var stair = new StairCurve(l_min[i], L_tot(i));\n    var delayed_stair = stair.DelayBy(Psi_i(i, k * l_min[i])); \n    stairs.Add(delayed_stair);\n}\nvar U_i = Curve.Addition(stairs); // summation of min-plus curves\nvar gamma_i = Curve.Convolution(unit_rate, U_i);\nvar beta_i = Curve.Composition(gamma_i, beta);\n")),(0,i.kt)("figure",null,(0,i.kt)("img",{src:(0,o.Z)("/img/tutorials/iwrr_sc.png"),alt:"Plot of the IWRR strict service curve, computed with the code above."}),(0,i.kt)("figcaption",null,"Figure 6: Plot of the IWRR strict service curve, computed with the code above.")))}m.isMDXComponent=!0}}]);